<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIMIZA - Spin & Win KES 3,000 - 200,000!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#008000',
                        secondary: '#ff6b00',
                        accent: '#ffd700'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Rubik', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
        }
        .wheel {
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            transform-origin: center;
        }
        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            left: 0;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2px;
            box-sizing: border-box;
        }
        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            font-size: 24px;
            color: #ff6b00;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="max-w-4xl w-full bg-white rounded-2xl shadow-xl overflow-hidden">
        <!-- Header -->
        <div class="bg-primary text-white p-6 text-center">
            <div class="flex items-center justify-center gap-3 mb-2">
                <i class="fas fa-gift text-2xl"></i>
                <h1 class="text-3xl font-bold">TIMIZA</h1>
                <i class="fas fa-gift text-2xl"></i>
            </div>
            <p class="text-lg opacity-90">Spin & Win Instantly with M-Pesa!</p>
            <div class="mt-2 text-sm bg-white/20 rounded-full px-3 py-1 inline-block">
                100% Kenyan • Instant STK Push • Win KES 3,000 - 200,000
            </div>
        </div>

        <div class="p-6">
            <!-- Prize Information -->
            <div class="bg-gradient-to-r from-primary to-secondary text-white rounded-xl p-4 mb-6 text-center">
                <h2 class="text-xl font-bold mb-2">🎉 WIN UP TO KES 200,000! 🎉</h2>
                <p class="text-sm opacity-90">Make a deposit to spin the wheel instantly</p>
            </div>

            <!-- Wheel Container -->
            <div class="relative flex justify-center mb-8">
                <div class="relative" style="width: 300px; height: 300px;">
                    <div id="wheel" class="wheel w-full h-full rounded-full border-4 border-primary relative overflow-hidden">
                        <!-- Wheel segments will be generated by JavaScript -->
                    </div>
                    <div class="pointer">
                        <i class="fas fa-caret-up"></i>
                    </div>
                </div>
            </div>

            <!-- Prize Amount Display -->
            <div class="text-center mb-6">
                <div class="text-sm text-gray-600 mb-1">Your Prize</div>
                <div id="prizeAmount" class="text-3xl font-bold text-primary">KES 0</div>
            </div>

            <!-- STK Push Form -->
            <div class="bg-gray-50 rounded-xl p-6 mb-6">
                <h3 class="text-xl font-bold text-center mb-4 text-gray-800">Make Your Deposit to Spin!</h3>
                
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div class="bg-white p-3 rounded-lg border">
                            <div class="text-gray-500">Paybill Number</div>
                            <div class="font-bold text-primary">300067</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg border">
                            <div class="text-gray-500">Account Number</div>
                            <div class="font-bold text-primary">702994679</div>
                        </div>
                    </div>

                    <div class="text-center">
                        <button id="spinBtn" class="bg-primary hover:bg-green-700 text-white font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 pulse w-full">
                            <i class="fas fa-spinner mr-2"></i>SEND KES 50 TO SPIN NOW!
                        </button>
                    </div>

                    <div class="text-xs text-gray-500 text-center mt-4">
                        <p>• Deposit KES 50 to 300067 using Account: 702994679</p>
                        <p>• You'll be automatically registered and the wheel will spin instantly!</p>
                        <p>• All prizes paid instantly via M-Pesa</p>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center text-xs text-gray-500">
                <p>© 2025 TIMIZA - Fully Kenyan Gaming Platform</p>
                <p class="mt-1">All transactions processed through M-Pesa • Licensed and Regulated</p>
            </div>
        </div>
    </div>

    <script>
        // Prize amounts for the wheel
        const prizes = [
            { amount: 3000, color: '#ffd700' },
            { amount: 5000, color: '#ff6b00' },
            { amount: 10000, color: '#008000' },
            { amount: 15000, color: '#4169e1' },
            { amount: 25000, color: '#9370db' },
            { amount: 50000, color: '#ff1493' },
            { amount: 100000, color: '#00ced1' },
            { amount: 200000, color: '#ff4500' }
        ];

        // Generate wheel segments
        const wheel = document.getElementById('wheel');
        const segmentAngle = 360 / prizes.length;
        
        prizes.forEach((prize, index) => {
            const segment = document.createElement('div');
            segment.className = 'wheel-segment';
            segment.style.transform = `rotate(${index * segmentAngle}deg)`;
            segment.style.backgroundColor = prize.color;
            
            // Add text rotation to keep text readable
            const textAngle = -index * segmentAngle - segmentAngle / 2;
            segment.innerHTML = `<span style="transform: rotate(${textAngle}deg); display: inline-block; width: 120px; font-weight: bold; color: white; font-size: 10px;">KES ${prize.amount.toLocaleString()}</span>`;
            
            wheel.appendChild(segment);
        });

        // Spin functionality
        const spinBtn = document.getElementById('spinBtn');
        const prizeAmount = document.getElementById('prizeAmount');
        let isSpinning = false;

        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            
            isSpinning = true;
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>PROCESSING...';
            
            // Simulate STK push processing delay
            setTimeout(() => {
                // Generate random spin (3-5 full rotations + random segment)
                const rotations = 3 + Math.random() * 2;
                const randomSegment = Math.floor(Math.random() * prizes.length);
                const finalAngle = 360 * rotations + (360 - (randomSegment * segmentAngle + segmentAngle / 2));
                
                wheel.style.transform = `rotate(${finalAngle}deg)`;
                
                // Show result after spin completes
                setTimeout(() => {
                    const winningPrize = prizes[randomSegment];
                    prizeAmount.textContent = `KES ${winningPrize.amount.toLocaleString()}`;
                    prizeAmount.style.color = '#008000';
                    prizeAmount.style.fontSize = '2.5rem';
                    prizeAmount.style.fontWeight = 'bold';
                    
                    // Show celebration message
                    alert(`🎉 CONGRATULATIONS! 🎉\n\nYou've won KES ${winningPrize.amount.toLocaleString()}!\n\nYour prize will be sent to your M-Pesa account immediately.\n\nThank you for playing TIMIZA!`);
                    
                    isSpinning = false;
                    spinBtn.disabled = false;
                    spinBtn.innerHTML = '<i class="fas fa-spinner mr-2"></i>SEND KES 50 TO SPIN AGAIN!';
                }, 4000);
            }, 2000);
        });

        // Initialize prize amount
        prizeAmount.textContent = 'KES 0';
    </script>
</body>
</html>

